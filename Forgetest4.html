<html>
<head>
<script>



function get2leggedToken(){
		var turl = 'https://developer.api.autodesk.com/authentication/v2/token';
		//const params ={"grant_type": "client_credentials", "scope": "account:write"};
		let data = "grant_type=client_credentials&scope=account:write";
        const http = new XMLHttpRequest();
        http.open('POST', turl);
        http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
		http.setRequestHeader('Authorization', 'Basic ' + idsecr);
        //http.send(JSON.stringify(params)); 
		http.send(data);
        http.onload = function() {document.write(http.responseText);}
}


//activating user
function runrequest1(){
var token = 'eyJhbGciOiJSUzI1NiIsImtpZCI6IlhrUFpfSmhoXzlTYzNZS01oRERBZFBWeFowOF9SUzI1NiIsInBpLmF0bSI6ImFzc2MifQ.eyJzY29wZSI6WyJhY2NvdW50OndyaXRlIl0sImNsaWVudF9pZCI6InMzS2lwU1dsaXlZR003RHpJVXFMMWJUYlNLOUFDNHhPIiwiaXNzIjoiaHR0cHM6Ly9kZXZlbG9wZXIuYXBpLmF1dG9kZXNrLmNvbSIsImF1ZCI6Imh0dHBzOi8vYXV0b2Rlc2suY29tIiwianRpIjoiRWNVS0RvUHRUaEVSbnZVSG8wRzZZSjZOZ21qNHdMUTlKVHUxWHg1eVZyUXNJY0hhMHlnWjd2RG5rMzdDcjhvZyIsImV4cCI6MTczNjQyOTQ4OX0.IxjZgMOap_pkAiausaMWxYaKXXRoDrzina1fUMNgvoWEJuc9y90A-sRLTRZ56yOzMzFdfQMpbFJTYi9o00uYvVjGDXTF6Nbp_D9hL0ew9UYwRLbnaFa9lcjOVUuUc4dJZBEBMq2ajLHOpb4cD825PS8ZqjRq9-odWih-7L4jcJyWN178nK7XZ4Uk1pmA2QQc3LWNvyEjS0rjCPgFvJ4MhW2ns9nZABuXhWsyKn_xOrDxbH2LOZOlKK18Tur0HY9OgLxox-k99KkiSeW72svByZsPcOTW5rFPpIxHXxcvrwV6jXZoCiuyPZN8tRGZjTdrif3JZ3aA8c_mqr-VSpHO4Q';
		var url4 = 'https://developer.api.autodesk.com/hq/v1/accounts/ae8c2a83-81e1-438a-8a59-4540e84779c0/users/c200859c-d403-48d0-9daf-e9dee82e25b7';
		const params ={"status": "active"};
        const http = new XMLHttpRequest();
        http.open('PATCH', url4);
        http.setRequestHeader('Content-type', 'application/json');
		http.setRequestHeader('Authorization', 'Bearer ' + token);
        http.send(JSON.stringify(params)); 
        http.onload = function() {alert(http.responseText);}
}

function runrequest2(){
var token = 'eyJhbGciOiJSUzI1NiIsImtpZCI6IlhrUFpfSmhoXzlTYzNZS01oRERBZFBWeFowOF9SUzI1NiIsInBpLmF0bSI6ImFzc2MifQ.eyJzY29wZSI6WyJhY2NvdW50OndyaXRlIl0sImNsaWVudF9pZCI6InMzS2lwU1dsaXlZR003RHpJVXFMMWJUYlNLOUFDNHhPIiwiaXNzIjoiaHR0cHM6Ly9kZXZlbG9wZXIuYXBpLmF1dG9kZXNrLmNvbSIsImF1ZCI6Imh0dHBzOi8vYXV0b2Rlc2suY29tIiwianRpIjoiRWNVS0RvUHRUaEVSbnZVSG8wRzZZSjZOZ21qNHdMUTlKVHUxWHg1eVZyUXNJY0hhMHlnWjd2RG5rMzdDcjhvZyIsImV4cCI6MTczNjQyOTQ4OX0.IxjZgMOap_pkAiausaMWxYaKXXRoDrzina1fUMNgvoWEJuc9y90A-sRLTRZ56yOzMzFdfQMpbFJTYi9o00uYvVjGDXTF6Nbp_D9hL0ew9UYwRLbnaFa9lcjOVUuUc4dJZBEBMq2ajLHOpb4cD825PS8ZqjRq9-odWih-7L4jcJyWN178nK7XZ4Uk1pmA2QQc3LWNvyEjS0rjCPgFvJ4MhW2ns9nZABuXhWsyKn_xOrDxbH2LOZOlKK18Tur0HY9OgLxox-k99KkiSeW72svByZsPcOTW5rFPpIxHXxcvrwV6jXZoCiuyPZN8tRGZjTdrif3JZ3aA8c_mqr-VSpHO4Q';
		var url4 = 'https://developer.api.autodesk.com/hq/v1/accounts/ae8c2a83-81e1-438a-8a59-4540e84779c0/users';
		const params ={"email": "martin.buss@t-online.de"};
        const http = new XMLHttpRequest();
        http.open('POST', url4);
        http.setRequestHeader('Content-type', 'application/json');
		http.setRequestHeader('Authorization', 'Bearer ' + token);
        http.send(JSON.stringify(params)); 
        http.onload = function() {document.write(http.responseText);}
}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	var idsecr = btoa('s3KipSWliyYGM7DzIUqL1bTbSK9AC4xO' + ':' + 'PAiRE5P9YgGNZROD');

</script>
</head>
<body><input type=button value=runrequest onclick="runrequest2()"> <input type=button value=get2leggedToken onclick="get2leggedToken()"></body>
</html>